<!DOCTYPE html> <html lang=\"en\"><head> <meta http-equiv=\"content-type\" content=\"text/html; charset=UTF-8\"> <script src=\"Time%20Diary%20Pro%20-%20Plan%20vs%20Reality%20Tracker_files/html-to-image.min.js\" integrity=\"sha512-iZ2ORl595Wx6miw+GuadDet4WQbdSWS3JLMoNfY8cRGoEFy6oT3G9IbcrBeL6AfkgpA51ETt/faX6yLV+/gFJg==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\"></script> <script> (function() { const originalConsole = window.console; window.console = { log: (...args) => { originalConsole.log(...args); window.parent.postMessage({ type: 'console', message: args.join(' ') }, '*'); }, error: (...args) => { originalConsole.error(...args); window.parent.postMessage({ type: 'console', message: 'Error: ' + args.join(' ') }, '*'); }, warn: (...args) => { originalConsole.warn(...args); window.parent.postMessage({ type: 'console', message: 'Warning: ' + args.join(' ') }, '*'); } }; let requestId = 0; let callbacksMap = new Map(); let streamControllers = new Map(); window.claude = { complete: (prompt) => { return new Promise((resolve, reject) => { const id = requestId++; callbacksMap.set(id, { resolve, reject }); window.parent.postMessage({ type: 'claudeComplete', id, prompt }, '*'); }); } }; window.storage = { get: (key, shared = false) => { return new Promise((resolve, reject) => { const id = requestId++; callbacksMap.set(id, { resolve, reject }); window.parent.postMessage({ type: 'storageGet', id, key, shared }, '*'); }); }, set: (key, value, shared = false) => { return new Promise((resolve, reject) => { const id = requestId++; callbacksMap.set(id, { resolve, reject }); window.parent.postMessage({ type: 'storageSet', id, key, value, shared }, '*'); }); }, delete: (key, shared = false) => { return new Promise((resolve, reject) => { const id = requestId++; callbacksMap.set(id, { resolve, reject }); window.parent.postMessage({ type: 'storageDelete', id, key, shared }, '*'); }); }, list: (prefix, shared = false) => { return new Promise((resolve, reject) => { const id = requestId++; callbacksMap.set(id, { resolve, reject }); window.parent.postMessage({ type: 'storageList', id, prefix, shared }, '*'); }); } }; let pendingBlobs = new Map(); URL.createObjectURL = (blob) => { // Store the blob and create an ID and URL for it const blobId = `blob-${Date.now()}-${Math.random()}`; pendingBlobs.set(blobId, blob); return `blob-request://${blobId}`; }; URL.revokeObjectURL = (url) => { // Remove the blob from our store const blobId = url.replace(\"blob-request://\", \"\"); pendingBlobs.delete(blobId); }; const getBlobFromURL = (url) => { const blobId = url.replace(\"blob-request://\", \"\"); return pendingBlobs.get(blobId); }; // Override global fetch with streaming support window.fetch = (url, init = {}) => { return new Promise((resolve, reject) => { const id = requestId++; const channelId = `fetch-${id}-${Date.now()}`; callbacksMap.set(id, { resolve: (response) => { // Create a ReadableStream for the response body const stream = new ReadableStream({ start(controller) { streamControllers.set(channelId, controller); }, cancel() { streamControllers.delete(channelId); } }); // Create and return the Response with the stream resolve(new Response(stream, { status: response.status, statusText: response.statusText, headers: response.headers })); }, reject, channelId }); window.parent.postMessage({ type: 'proxyFetch', id, url, init, channelId }, '*'); }); }; window.addEventListener('message', async (event) => { if (event.data.type === 'takeScreenshot') { const rootElement = document.getElementById('artifacts-component-root-html'); if (!rootElement) { window.parent.postMessage({ type: 'screenshotError', error: new Error('Root element not found'), }, '*'); } const screenshot = await htmlToImage.toPng(rootElement, { imagePlaceholder: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdjePDgwX8ACOQDoNsk0PMAAAAASUVORK5CYII=\", }); window.parent.postMessage({ type: 'screenshotData', data: screenshot, }, '*'); } else if (event.data.type === 'claudeComplete') { const callback = callbacksMap.get(event.data.id); if (event.data.error) { callback.reject(new Error(event.data.error)); } else { callback.resolve(event.data.completion); } callbacksMap.delete(event.data.id); } else if (event.data.type === 'proxyFetchResponse') { const callback = callbacksMap.get(event.data.id); if (event.data.error) { callback.reject(new Error(event.data.error)); callbacksMap.delete(event.data.id); } else { // Initial response with headers, status, etc. callback.resolve({ status: event.data.status, statusText: event.data.statusText, headers: event.data.headers }); // Don't delete the callback yet if streaming if (!event.data.body) { callbacksMap.delete(event.data.id); } } } else if (event.data.type === 'proxyFetchStream') { // Handle streaming data chunks const controller = streamControllers.get(event.data.channelId); if (controller) { if (event.data.error) { controller.error(new Error(event.data.error)); streamControllers.delete(event.data.channelId); } else if (event.data.done) { controller.close(); streamControllers.delete(event.data.channelId); // Clean up the callback const callback = Array.from(callbacksMap.entries()).find( ([_, value]) => value.channelId === event.data.channelId ); if (callback) { callbacksMap.delete(callback[0]); } } else if (event.data.chunk) { controller.enqueue(new Uint8Array(event.data.chunk)); } } } else if (event.data.type === 'storageGet') { const callback = callbacksMap.get(event.data.id); if (event.data.error) { callback.reject(new Error(event.data.error)); } else { callback.resolve(event.data.result); } callbacksMap.delete(event.data.id); } else if (event.data.type === 'storageSet') { const callback = callbacksMap.get(event.data.id); if (event.data.error) { callback.reject(new Error(event.data.error)); } else { callback.resolve(event.data.result); } callbacksMap.delete(event.data.id); } else if (event.data.type === 'storageDelete') { const callback = callbacksMap.get(event.data.id); if (event.data.error) { callback.reject(new Error(event.data.error)); } else { callback.resolve(event.data.result); } callbacksMap.delete(event.data.id); } else if (event.data.type === 'storageList') { const callback = callbacksMap.get(event.data.id); if (event.data.error) { callback.reject(new Error(event.data.error)); } else { callback.resolve(event.data.result); } callbacksMap.delete(event.data.id); } }); window.addEventListener('click', (event) => { const isEl = event.target instanceof HTMLElement; if (!isEl) return; // find ancestor links const linkEl = event.target.closest(\"a\"); if (!linkEl || !linkEl.href) return; event.preventDefault(); event.stopImmediatePropagation(); if (linkEl.href.startsWith(\"blob-request:\")) { const blob = getBlobFromURL(linkEl.href); if (!blob) return; void blob.arrayBuffer().then((data) => { window.parent.postMessage({ type: \"downloadFile\", filename: linkEl.download, data, mimeType: blob.type || \"application/octet-stream\", }); }); } else if (linkEl.href.startsWith(\"data:\")) { const [header, base64Data] = linkEl.href.split(\",\"); const mimeMatch = header.match(/data:([^;]+)/); const mimeType = mimeMatch ? mimeMatch[1] : \"application/octet-stream\"; const binaryString = atob(base64Data); const data = Uint8Array.from(binaryString, (c) => c.charCodeAt(0), ).buffer; window.parent.postMessage({ type: \"downloadFile\", filename: linkEl.download, data, mimeType, }); } else { let linkUrl; try { linkUrl = new URL(linkEl.href); } catch (error) { return; } if (linkUrl.hostname === window.location.hostname) return; window.parent.postMessage({ type: 'openExternal', href: linkEl.href, }, '*'); } }); const originalOpen = window.open; window.open = function (url) { window.parent.postMessage({ type: \"openExternal\", href: url, }, \"*\"); }; window.addEventListener('error', (event) => { window.parent.postMessage({ type: 'console', message: 'Uncaught Error: ' + event.message }, '*'); }); })(); </script> <meta charset=\"UTF-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"> <title>Time Diary Pro - Plan vs Reality Tracker</title> <style> * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; background: #111827; color: #f3f4f6; padding: 16px; min-height: 100vh; } .container { max-width: 1400px; margin: 0 auto; } .header { background: #1f2937; border: 1px solid #374151; border-radius: 8px; padding: 16px; margin-bottom: 16px; } .header-row { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 12px; margin-bottom: 12px; } .date-controls { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; } button { padding: 8px 14px; background: #374151; color: white; border: 1px solid #4b5563; border-radius: 6px; cursor: pointer; font-size: 13px; transition: background 0.2s; display: flex; align-items: center; gap: 6px; } button:hover { background: #4b5563; } button.primary { background: #2563eb; border-color: #3b82f6; } button.primary:hover { background: #1d4ed8; } button.success { background: #059669; border-color: #10b981; } button.success:hover { background: #047857; } button.warning { background: #d97706; border-color: #f59e0b; } button.warning:hover { background: #b45309; } button.cyan { background: #0891b2; border-color: #06b6d4; } button.cyan:hover { background: #0e7490; } button.purple { background: #7c3aed; border-color: #8b5cf6; } button.purple:hover { background: #6d28d9; } button.pink { background: #db2777; border-color: #ec4899; } button.pink:hover { background: #be185d; } button.green { background: #059669; border-color: #10b981; } button.green:hover { background: #047857; } input[type=\"date\"], input[type=\"text\"], textarea, select { padding: 8px 12px; background: #374151; border: 1px solid #4b5563; border-radius: 6px; color: white; font-size: 13px; } input[type=\"text\"]:focus, textarea:focus, select:focus { outline: none; border-color: #3b82f6; } input[type=\"checkbox\"] { width: 16px; height: 16px; cursor: pointer; } textarea { resize: none; width: 100%; } .panel { background: #1f2937; border: 1px solid #374151; border-radius: 8px; padding: 20px; margin-bottom: 16px; display: none; } .panel.active { display: block; } .panel-title { font-size: 18px; font-weight: bold; margin-bottom: 16px; } .summary-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 16px; } .summary-box { background: #374151; border: 2px solid; border-radius: 8px; padding: 16px; text-align: center; } .summary-box.blue { border-color: #3b82f6; } .summary-box.green { border-color: #10b981; } .summary-box.orange { border-color: #f59e0b; } .summary-box.purple { border-color: #8b5cf6; } .summary-value { font-size: 24px; font-weight: bold; margin-bottom: 4px; } .summary-value.blue { color: #60a5fa; } .summary-value.green { color: #34d399; } .summary-value.orange { color: #fbbf24; } .summary-value.purple { color: #a78bfa; } .summary-value.yellow { color: #fbbf24; } .summary-label { font-size: 11px; color: #9ca3af; text-transform: uppercase; } .project-list { display: flex; flex-direction: column; gap: 8px; } .project-item { background: #374151; border: 1px solid #4b5563; border-radius: 6px; padding: 12px; display: flex; justify-content: space-between; align-items: center; } .project-dot { width: 12px; height: 12px; border-radius: 50%; display: inline-block; margin-right: 8px; } .template-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; } .template-card { background: #374151; border: 1px solid #4b5563; border-radius: 6px; padding: 12px; } .template-header { display: flex; justify-content: space-between; align-items: start; margin-bottom: 8px; } .template-name { font-weight: bold; font-size: 14px; } .template-date { font-size: 11px; color: #9ca3af; } .template-actions { display: flex; gap: 6px; } .bulk-panel { background: #1f2937; border: 2px solid #f59e0b; border-radius: 8px; padding: 16px; margin-bottom: 16px; display: none; } .bulk-panel.active { display: block; } .bulk-controls { display: flex; justify-content: space-between; align-items: center; gap: 12px; } .time-grid { background: #1f2937; border: 1px solid #374151; border-radius: 8px; overflow: hidden; } .time-grid-header { display: grid; grid-template-columns: 50px 70px 1fr 1fr 180px; background: #111827; border-bottom: 2px solid #374151; } .header-cell { padding: 10px 8px; text-align: center; font-weight: bold; font-size: 11px; text-transform: uppercase; border-right: 1px solid #374151; } .header-cell:last-child { border-right: none; } .header-cell.blue { color: #60a5fa; } .header-cell.green { color: #34d399; } .header-cell.purple { color: #a78bfa; } .time-grid-body { max-height: 600px; overflow-y: auto; } .time-row { display: grid; grid-template-columns: 50px 70px 1fr 1fr 180px; border-bottom: 1px solid #374151; } .time-row:hover { background: #1f2937; } .time-row.selected { background: rgba(251, 191, 36, 0.1); } .cell { padding: 8px; border-right: 1px solid #374151; display: flex; align-items: center; justify-content: center; } .cell.time { font-family: monospace; font-weight: bold; font-size: 11px; background: #1a1f2e; } .cell.input { padding: 6px; } .cell.input input, .cell.input textarea { width: 100%; margin: 0; font-size: 12px; padding: 6px; } .cell.input textarea { height: 50px; } .cell.project { padding: 6px; flex-direction: column; gap: 4px; } .project-input-row { display: flex; gap: 4px; width: 100%; align-items: center; } .project-input-row input { flex: 1; font-size: 11px; padding: 4px 6px; } .project-input-row select { width: 50px; font-size: 11px; padding: 4px; } .distraction-input { width: 100%; background: rgba(239, 68, 68, 0.1) !important; border-color: #ef4444 !important; color: #fca5a5 !important; font-size: 10px !important; padding: 4px 6px !important; } .weekly-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin-bottom: 16px; } .day-box { background: #374151; border: 1px solid #4b5563; border-radius: 6px; padding: 8px; text-align: center; } .day-name { font-size: 11px; color: #9ca3af; margin-bottom: 4px; } .day-stat { font-size: 11px; } .color-blue { background-color: #3b82f6; } .color-green { background-color: #10b981; } .color-purple { background-color: #8b5cf6; } .color-orange { background-color: #f59e0b; } .color-pink { background-color: #ec4899; } .color-indigo { background-color: #6366f1; } .color-teal { background-color: #14b8a6; } .color-amber { background-color: #f59e0b; } .color-red { background-color: #ef4444; } .color-cyan { background-color: #06b6d4; } .toast { position: fixed; top: 20px; right: 20px; background: #10b981; color: white; padding: 14px 18px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.3); display: none; z-index: 1000; animation: slideIn 0.3s ease-out; } .toast.show { display: block; } @keyframes slideIn { from { transform: translateX(400px); opacity: 0; } to { transform: translateX(0); opacity: 1; } } @media (max-width: 1024px) { .time-grid-header, .time-row { grid-template-columns: 40px 60px 1fr 140px; } .cell.input:nth-child(4) { display: none; } .header-cell:nth-child(4) { display: none; } .summary-grid { grid-template-columns: repeat(2, 1fr); } .template-grid { grid-template-columns: 1fr; } } @media (max-width: 640px) { .header-row { flex-direction: column; align-items: stretch; } .date-controls { justify-content: center; } } </style> </head> <body id=\"artifacts-component-root-html\"> <div class=\"container\"> <div class=\"header\"> <div class=\"header-row\"> <div class=\"date-controls\"> <button onclick=\"changeDate(-1)\">â—€</button> <input type=\"date\" id=\"dateInput\" onchange=\"onDateChange()\" value=\"2026-01-28\"> <button onclick=\"changeDate(1)\">â–¶</button> <button onclick=\"goToToday()\">Today</button> </div> <div class=\"date-controls\"> <button class=\"cyan\" onclick=\"copyYesterday()\">ðŸ“‹ Yesterday</button> <button class=\"purple\" onclick=\"toggleTemplates()\">ðŸ“„ Templates</button> <button class=\"warning\" onclick=\"toggleSummary()\">ðŸ“Š Summary</button> <button class=\"pink\" onclick=\"toggleReflection()\">ðŸ’­ Reflect</button> <button class=\"primary\" onclick=\"saveData()\">ðŸ’¾ Save</button> </div> </div> <div class=\"date-controls\"> <button class=\"success\" onclick=\"exportJSON()\">ðŸ“¥ Export JSON</button> <button class=\"success\" onclick=\"exportCSV()\">ðŸ“¥ Export CSV</button> <button class=\"green\" onclick=\"document.getElementById('importFile').click()\">ðŸ“¤ Import</button> </div> </div> <div id=\"templatesPanel\" class=\"panel\"> <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;\"> <div class=\"panel-title\">ðŸ“„ Templates</div> <button class=\"success\" onclick=\"saveTemplate()\">Save Current as Template</button> </div> <div id=\"templateGrid\" class=\"template-grid\"><div style=\"grid-column: 1/-1; text-align: center; color: #9ca3af; padding: 20px;\">No templates saved yet</div></div> </div> <div id=\"summaryPanel\" class=\"panel\"> <div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;\"> <div class=\"panel-title\">ðŸ“Š Summary</div> <div> <button onclick=\"setViewMode('daily')\" id=\"btnDaily\" class=\"primary\">Daily</button> <button onclick=\"setViewMode('weekly')\" id=\"btnWeekly\" style=\"margin-left: 8px;\">Weekly</button> </div> </div> <div id=\"dailyView\"> <div class=\"summary-grid\"> <div class=\"summary-box blue\"> <div class=\"summary-value blue\" id=\"totalPlanned\">0h</div> <div class=\"summary-label\">Planned</div> </div> <div class=\"summary-box green\"> <div class=\"summary-value green\" id=\"totalActual\">0h</div> <div class=\"summary-label\">Actual</div> </div> <div class=\"summary-box orange\"> <div class=\"summary-value orange\" id=\"totalDrift\">+0h</div> <div class=\"summary-label\">Drift</div> </div> <div class=\"summary-box purple\"> <div class=\"summary-value purple\" id=\"efficiency\">0%</div> <div class=\"summary-label\">Efficiency</div> </div> </div> <div style=\"background: #374151; border: 1px solid #4b5563; border-radius: 6px; padding: 12px; text-align: center; margin-bottom: 16px;\"> <div style=\"font-size: 16px; font-weight: bold; color: #fbbf24;\">âš¡ Avg Energy: <span id=\"avgEnergy\">3.0</span>/5</div> </div> <div id=\"projectList\" class=\"project-list\"></div> </div> <div id=\"weeklyView\" style=\"display: none;\"> <h3 style=\"margin-bottom: 12px; font-size: 16px;\">7-Day Overview</h3> <div id=\"weeklyGrid\" class=\"weekly-grid\"></div> <h4 style=\"margin: 16px 0 12px 0; font-size: 14px; font-weight: bold;\">Project Breakdown (7 days)</h4> <div id=\"weeklyProjects\" class=\"project-list\"></div> </div> </div> <div id=\"reflectionPanel\" class=\"panel\"> <div class=\"panel-title\">ðŸ’­ Daily Reflection</div> <textarea id=\"reflectionText\" rows=\"4\" placeholder=\"What did you learn today? What went well? What could be improved?\"></textarea> </div> <div id=\"bulkPanel\" class=\"bulk-panel\"> <div class=\"bulk-controls\"> <div style=\"font-weight: bold;\"> <span id=\"selectedCount\">0</span> blocks selected </div> <div style=\"display: flex; gap: 8px; align-items: center;\"> <input type=\"text\" id=\"bulkProject\" list=\"bulkProjectsList\" placeholder=\"Project tag\" style=\"width: 150px;\"> <button class=\"warning\" onclick=\"applyBulkProject()\">Apply to Selected</button> <button onclick=\"clearSelection()\">Clear</button> </div> </div> </div> <div class=\"time-grid\"> <div class=\"time-grid-header\"> <div class=\"header-cell\">âœ“</div> <div class=\"header-cell\">Time</div> <div class=\"header-cell blue\">Plan</div> <div class=\"header-cell green\">Reality</div> <div class=\"header-cell purple\">Project &amp; Energy</div> </div> <div class=\"time-grid-body\" id=\"timeGridBody\"><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('06:00')\"> </div> <div class=\"cell time\">06:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('06:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('06:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('06:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('06:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('06:30')\"> </div> <div class=\"cell time\">06:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('06:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('06:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('06:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('06:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('07:00')\"> </div> <div class=\"cell time\">07:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('07:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('07:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('07:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('07:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('07:30')\"> </div> <div class=\"cell time\">07:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('07:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('07:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('07:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('07:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('08:00')\"> </div> <div class=\"cell time\">08:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('08:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('08:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('08:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('08:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('08:30')\"> </div> <div class=\"cell time\">08:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('08:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('08:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('08:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('08:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('09:00')\"> </div> <div class=\"cell time\">09:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('09:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('09:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('09:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('09:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('09:30')\"> </div> <div class=\"cell time\">09:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('09:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('09:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('09:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('09:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('10:00')\"> </div> <div class=\"cell time\">10:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('10:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('10:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('10:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('10:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('10:30')\"> </div> <div class=\"cell time\">10:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('10:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('10:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('10:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('10:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('11:00')\"> </div> <div class=\"cell time\">11:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('11:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('11:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('11:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('11:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('11:30')\"> </div> <div class=\"cell time\">11:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('11:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('11:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('11:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('11:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('12:00')\"> </div> <div class=\"cell time\">12:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('12:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('12:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('12:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('12:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('12:30')\"> </div> <div class=\"cell time\">12:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('12:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('12:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('12:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('12:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('13:00')\"> </div> <div class=\"cell time\">13:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('13:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('13:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('13:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('13:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('13:30')\"> </div> <div class=\"cell time\">13:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('13:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('13:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('13:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('13:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('14:00')\"> </div> <div class=\"cell time\">14:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('14:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('14:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('14:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('14:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('14:30')\"> </div> <div class=\"cell time\">14:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('14:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('14:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('14:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('14:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('15:00')\"> </div> <div class=\"cell time\">15:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('15:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('15:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('15:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('15:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('15:30')\"> </div> <div class=\"cell time\">15:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('15:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('15:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('15:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('15:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('16:00')\"> </div> <div class=\"cell time\">16:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('16:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('16:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('16:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('16:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('16:30')\"> </div> <div class=\"cell time\">16:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('16:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('16:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('16:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('16:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('17:00')\"> </div> <div class=\"cell time\">17:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('17:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('17:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('17:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('17:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('17:30')\"> </div> <div class=\"cell time\">17:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('17:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('17:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('17:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('17:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('18:00')\"> </div> <div class=\"cell time\">18:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('18:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('18:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('18:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('18:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('18:30')\"> </div> <div class=\"cell time\">18:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('18:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('18:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('18:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('18:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('19:00')\"> </div> <div class=\"cell time\">19:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('19:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('19:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('19:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('19:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('19:30')\"> </div> <div class=\"cell time\">19:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('19:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('19:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('19:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('19:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('20:00')\"> </div> <div class=\"cell time\">20:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('20:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('20:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('20:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('20:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('20:30')\"> </div> <div class=\"cell time\">20:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('20:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('20:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('20:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('20:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('21:00')\"> </div> <div class=\"cell time\">21:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('21:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('21:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('21:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('21:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('21:30')\"> </div> <div class=\"cell time\">21:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('21:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('21:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('21:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('21:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('22:00')\"> </div> <div class=\"cell time\">22:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('22:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('22:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('22:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('22:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('22:30')\"> </div> <div class=\"cell time\">22:30</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('22:30', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('22:30', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('22:30', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('22:30', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><div class=\"time-row\"> <div class=\"cell\"> <input type=\"checkbox\" onchange=\"toggleBlockSelection('23:00')\"> </div> <div class=\"cell time\">23:00</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('23:00', 'p', this.value)\" placeholder=\"Plan...\"></textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('23:00', 'a', this.value)\" placeholder=\"Reality...\"></textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot \"></div> <input type=\"text\" list=\"projectsList\" onchange=\"updateProject('23:00', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('23:00', 'e', this.value)\" title=\"Energy\"> <option value=\"1\">âš¡1</option> <option value=\"2\">âš¡2</option> <option value=\"3\" selected=\"selected\">âš¡3</option> <option value=\"4\">âš¡4</option> <option value=\"5\">âš¡5</option> </select> </div> </div> </div><datalist id=\"projectsList\"></datalist></div> </div> </div> <div id=\"toast\" class=\"toast\"></div> <input type=\"file\" id=\"importFile\" accept=\".json,.csv\" style=\"display: none;\" onchange=\"handleImport(event)\"> <datalist id=\"bulkProjectsList\"></datalist> <script> let selectedDate = new Date().toISOString().split('T')[0]; let projects = []; let timeBlocks = {}; let templates = []; let dailyReflection = ''; let selectedBlocks = []; let viewMode = 'daily'; const timeSlots = (() => { const slots = []; for (let h = 6; h < 24; h++) { slots.push(`${h.toString().padStart(2, '0')}:00`); if (h < 23) slots.push(`${h.toString().padStart(2, '0')}:30`); } return slots; })(); const colors = ['color-blue', 'color-green', 'color-purple', 'color-orange', 'color-pink', 'color-indigo', 'color-teal', 'color-amber', 'color-red', 'color-cyan']; function showToast(msg) { const toast = document.getElementById('toast'); toast.textContent = msg; toast.classList.add('show'); setTimeout(() => toast.classList.remove('show'), 2500); } function loadData() { const saved = localStorage.getItem(`td-${selectedDate}`); const savedProjects = localStorage.getItem('td-projects'); const savedTemplates = localStorage.getItem('td-templates'); const savedReflection = localStorage.getItem(`td-ref-${selectedDate}`); if (savedProjects) projects = JSON.parse(savedProjects); if (savedTemplates) templates = JSON.parse(savedTemplates); if (savedReflection) { dailyReflection = savedReflection; document.getElementById('reflectionText').value = dailyReflection; } else { dailyReflection = ''; document.getElementById('reflectionText').value = ''; } if (saved) { timeBlocks = JSON.parse(saved); } else { timeBlocks = {}; timeSlots.forEach(s => { timeBlocks[s] = { p: '', a: '', pr: '', e: 3, d: '' }; }); } renderGrid(); updateSummary(); renderTemplates(); updateBulkProjectList(); } function saveData() { dailyReflection = document.getElementById('reflectionText').value; localStorage.setItem(`td-${selectedDate}`, JSON.stringify(timeBlocks)); localStorage.setItem('td-projects', JSON.stringify(projects)); localStorage.setItem('td-templates', JSON.stringify(templates)); localStorage.setItem(`td-ref-${selectedDate}`, dailyReflection); showToast('âœ“ Data saved successfully!'); } function renderGrid() { const body = document.getElementById('timeGridBody'); body.innerHTML = ''; timeSlots.forEach(time => { const block = timeBlocks[time] || { p: '', a: '', pr: '', e: 3, d: '' }; const isSelected = selectedBlocks.includes(time); const row = document.createElement('div'); row.className = 'time-row' + (isSelected ? ' selected' : ''); row.innerHTML = ` <div class=\"cell\"> <input type=\"checkbox\" ${isSelected ? 'checked' : ''} onchange=\"toggleBlockSelection('${time}')\"> </div> <div class=\"cell time\">${time}</div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('${time}', 'p', this.value)\" placeholder=\"Plan...\">${block.p || ''}</textarea> </div> <div class=\"cell input\"> <textarea onchange=\"updateBlock('${time}', 'a', this.value)\" placeholder=\"Reality...\">${block.a || ''}</textarea> </div> <div class=\"cell project\"> <div class=\"project-input-row\"> <div class=\"project-dot ${getProjectColor(block.pr)}\"></div> <input type=\"text\" list=\"projectsList\" value=\"${block.pr || ''}\" onchange=\"updateProject('${time}', this.value)\" placeholder=\"Tag\"> <select onchange=\"updateBlock('${time}', 'e', this.value)\" title=\"Energy\"> <option value=\"1\" ${block.e == 1 ? 'selected' : ''}>âš¡1</option> <option value=\"2\" ${block.e == 2 ? 'selected' : ''}>âš¡2</option> <option value=\"3\" ${block.e == 3 ? 'selected' : ''}>âš¡3</option> <option value=\"4\" ${block.e == 4 ? 'selected' : ''}>âš¡4</option> <option value=\"5\" ${block.e == 5 ? 'selected' : ''}>âš¡5</option> </select> </div> ${block.a && !block.p ? ` <input type=\"text\" class=\"distraction-input\" value=\"${block.d || ''}\" onchange=\"updateBlock('${time}', 'd', this.value)\" placeholder=\"Why deviated?\"> ` : ''} </div> `; body.appendChild(row); }); const datalist = document.createElement('datalist'); datalist.id = 'projectsList'; projects.forEach(p => { const option = document.createElement('option'); option.value = p; datalist.appendChild(option); }); body.appendChild(datalist); } function updateBlock(time, field, value) { if (!timeBlocks[time]) timeBlocks[time] = { p: '', a: '', pr: '', e: 3, d: '' }; timeBlocks[time][field] = field === 'e' ? parseInt(value) : value; updateSummary(); if (field === 'a' || field === 'p') { renderGrid(); // Re-render to show/hide distraction input } } function updateProject(time, value) { updateBlock(time, 'pr', value); if (value && !projects.includes(value)) { projects.push(value); renderGrid(); updateBulkProjectList(); } } function getProjectColor(proj) { if (!proj) return ''; return colors[projects.indexOf(proj) % colors.length]; } function toggleBlockSelection(time) { if (selectedBlocks.includes(time)) { selectedBlocks = selectedBlocks.filter(t => t !== time); } else { selectedBlocks.push(time); } document.getElementById('selectedCount').textContent = selectedBlocks.length; document.getElementById('bulkPanel').classList.toggle('active', selectedBlocks.length > 0); renderGrid(); } function clearSelection() { selectedBlocks = []; document.getElementById('bulkPanel').classList.remove('active'); renderGrid(); } function applyBulkProject() { const proj = document.getElementById('bulkProject').value; if (proj && selectedBlocks.length > 0) { selectedBlocks.forEach(time => { updateBlock(time, 'pr', proj); }); if (!projects.includes(proj)) { projects.push(proj); } clearSelection(); renderGrid(); updateSummary(); showToast(`âœ“ Applied \"${proj}\" to ${selectedBlocks.length} blocks`); } } function updateBulkProjectList() { const list = document.getElementById('bulkProjectsList'); list.innerHTML = ''; projects.forEach(p => { const option = document.createElement('option'); option.value = p; list.appendChild(option); }); } function updateSummary() { const sum = {}; let tp = 0, ta = 0, planned = 0, completed = 0, es = 0, ec = 0; Object.entries(timeBlocks).forEach(([_, d]) => { if (d.p) planned++; if (d.a) completed++; if (d.e) { es += d.e; ec++; } if (d.pr) { if (!sum[d.pr]) sum[d.pr] = { p: 0, a: 0 }; if (d.p) { sum[d.pr].p += 0.5; tp += 0.5; } if (d.a) { sum[d.pr].a += 0.5; ta += 0.5; } } }); const drift = ta - tp; const eff = planned > 0 ? Math.round((completed / planned) * 100) : 0; const avgE = ec > 0 ? (es / ec).toFixed(1) : 0; document.getElementById('totalPlanned').textContent = tp + 'h'; document.getElementById('totalActual').textContent = ta + 'h'; document.getElementById('totalDrift').textContent = (drift >= 0 ? '+' : '') + drift + 'h'; document.getElementById('totalDrift').className = 'summary-value ' + (drift >= 0 ? 'orange' : 'purple'); document.getElementById('efficiency').textContent = eff + '%'; document.getElementById('avgEnergy').textContent = avgE; const list = document.getElementById('projectList'); list.innerHTML = ''; Object.entries(sum).forEach(([pr, t]) => { const item = document.createElement('div'); item.className = 'project-item'; item.innerHTML = ` <div> <span class=\"project-dot ${getProjectColor(pr)}\"></span> <strong>${pr}</strong> </div> <div style=\"font-family: monospace; font-size: 13px;\"> <span style=\"color: #60a5fa\">Plan: ${t.p}h</span> | <span style=\"color: #34d399\">Real: ${t.a}h</span> | <span style=\"color: ${t.a >= t.p ? '#fbbf24' : '#a78bfa'}\"> ${t.a >= t.p ? '+' : ''}${(t.a - t.p).toFixed(1)}h </span> </div> `; list.appendChild(item); }); } function toggleSummary() { const panel = document.getElementById('summaryPanel'); panel.classList.toggle('active'); } function toggleReflection() { const panel = document.getElementById('reflectionPanel'); panel.classList.toggle('active'); } function toggleTemplates() { const panel = document.getElementById('templatesPanel'); panel.classList.toggle('active'); } function setViewMode(mode) { viewMode = mode; document.getElementById('btnDaily').className = mode === 'daily' ? 'primary' : ''; document.getElementById('btnWeekly').className = mode === 'weekly' ? 'primary' : ''; document.getElementById('dailyView').style.display = mode === 'daily' ? 'block' : 'none'; document.getElementById('weeklyView').style.display = mode === 'weekly' ? 'block' : 'none'; if (mode === 'weekly') loadWeeklySummary(); } async function loadWeeklySummary() { const weekData = {}; const projectTotals = {}; for (let i = 0; i < 7; i++) { const d = new Date(selectedDate); d.setDate(d.getDate() - i); const dk = d.toISOString().split('T')[0]; const saved = localStorage.getItem(`td-${dk}`); if (saved) { const blocks = JSON.parse(saved); let dp = 0, da = 0; Object.values(blocks).forEach(b => { if (b.pr) { if (!projectTotals[b.pr]) projectTotals[b.pr] = { p: 0, a: 0 }; if (b.p) { projectTotals[b.pr].p += 0.5; dp += 0.5; } if (b.a) { projectTotals[b.pr].a += 0.5; da += 0.5; } } }); weekData[dk] = { p: dp, a: da }; } } const grid = document.getElementById('weeklyGrid'); grid.innerHTML = ''; Object.entries(weekData).reverse().forEach(([date, data]) => { const day = document.createElement('div'); day.className = 'day-box'; const d = new Date(date); day.innerHTML = ` <div class=\"day-name\">${d.toLocaleDateString('en-US', { weekday: 'short' })}</div> <div class=\"day-stat\" style=\"color: #60a5fa\">P: ${data.p}h</div> <div class=\"day-stat\" style=\"color: #34d399\">A: ${data.a}h</div> `; grid.appendChild(day); }); const list = document.getElementById('weeklyProjects'); list.innerHTML = ''; Object.entries(projectTotals).forEach(([pr, t]) => { const item = document.createElement('div'); item.className = 'project-item'; item.innerHTML = ` <div> <span class=\"project-dot ${getProjectColor(pr)}\"></span> <strong>${pr}</strong> </div> <div style=\"font-family: monospace; font-size: 13px;\"> <span style=\"color: #60a5fa\">${t.p}h</span> / <span style=\"color: #34d399\">${t.a}h</span> </div> `; list.appendChild(item); }); } function saveTemplate() { const name = prompt('Enter template name:'); if (name) { templates.push({ name: name, data: JSON.parse(JSON.stringify(timeBlocks)), created: new Date().toISOString() }); localStorage.setItem('td-templates', JSON.stringify(templates)); renderTemplates(); showToast('âœ“ Template saved!'); } } function renderTemplates() { const grid = document.getElementById('templateGrid'); grid.innerHTML = ''; if (templates.length === 0) { grid.innerHTML = '<div style=\"grid-column: 1/-1; text-align: center; color: #9ca3af; padding: 20px;\">No templates saved yet</div>'; return; } templates.forEach((t, i) => { const card = document.createElement('div'); card.className = 'template-card'; card.innerHTML = ` <div class=\"template-header\"> <div> <div class=\"template-name\">${t.name}</div> <div class=\"template-date\">${new Date(t.created).toLocaleDateString()}</div> </div> <div class=\"template-actions\"> <button class=\"primary\" onclick=\"loadTemplate(${i})\" style=\"padding: 4px 8px; font-size: 11px;\">Load</button> <button class=\"warning\" onclick=\"deleteTemplate(${i})\" style=\"padding: 4px 8px; font-size: 11px;\">Delete</button> </div> </div> `; grid.appendChild(card); }); } function loadTemplate(index) { timeBlocks = JSON.parse(JSON.stringify(templates[index].data)); renderGrid(); updateSummary(); showToast('âœ“ Template loaded!'); } function deleteTemplate(index) { if (confirm('Delete this template?')) { templates.splice(index, 1); localStorage.setItem('td-templates', JSON.stringify(templates)); renderTemplates(); showToast('âœ“ Template deleted!'); } } function changeDate(days) { const d = new Date(selectedDate); d.setDate(d.getDate() + days); selectedDate = d.toISOString().split('T')[0]; document.getElementById('dateInput').value = selectedDate; loadData(); } function onDateChange() { selectedDate = document.getElementById('dateInput').value; loadData(); } function goToToday() { selectedDate = new Date().toISOString().split('T')[0]; document.getElementById('dateInput').value = selectedDate; loadData(); } function copyYesterday() { const y = new Date(selectedDate); y.setDate(y.getDate() - 1); const saved = localStorage.getItem(`td-${y.toISOString().split('T')[0]}`); if (saved) { const data = JSON.parse(saved); timeSlots.forEach(s => { timeBlocks[s] = { p: data[s]?.a || '', a: '', pr: data[s]?.pr || '', e: 3, d: '' }; }); renderGrid(); updateSummary(); showToast('âœ“ Yesterday copied!'); } else { showToast('âŒ No data for yesterday'); } } function exportJSON() { const allData = { projects: projects, templates: templates, entries: {} }; for (let i = 0; i < 90; i++) { const d = new Date(selectedDate); d.setDate(d.getDate() - i); const dk = d.toISOString().split('T')[0]; const saved = localStorage.getItem(`td-${dk}`); const reflection = localStorage.getItem(`td-ref-${dk}`); if (saved) { allData.entries[dk] = { blocks: JSON.parse(saved), reflection: reflection || '' }; } } const blob = new Blob([JSON.stringify(allData, null, 2)], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `time-diary-pro-${selectedDate}.json`; a.click(); showToast('âœ“ JSON exported (90 days)!'); } function exportCSV() { let csv = 'Date,Time,Planned,Actual,Project,Energy,Distraction '; for (let i = 0; i < 30; i++) { const d = new Date(selectedDate); d.setDate(d.getDate() - i); const dk = d.toISOString().split('T')[0]; const saved = localStorage.getItem(`td-${dk}`); if (saved) { const blocks = JSON.parse(saved); timeSlots.forEach(t => { const b = blocks[t]; if (b && (b.p || b.a)) { csv += `${dk},${t},\"${b.p || ''}\",\"${b.a || ''}\",\"${b.pr || ''}\",${b.e || 3},\"${b.d || ''}\" `; } }); } } const blob = new Blob([csv], { type: 'text/csv' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = `time-diary-pro-${selectedDate}.csv`; a.click(); showToast('âœ“ CSV exported (30 days)!'); } function handleImport(event) { const file = event.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = function(e) { try { const content = e.target.result; const ext = file.name.split('.').pop().toLowerCase(); if (ext === 'json') { importJSON(content); } else if (ext === 'csv') { importCSV(content); } else { showToast('âŒ Unsupported file'); } } catch (error) { console.error(error); showToast('âŒ Import failed'); } }; reader.readAsText(file); event.target.value = ''; } function importJSON(content) { try { const data = JSON.parse(content); if (data.projects) { projects = data.projects; localStorage.setItem('td-projects', JSON.stringify(projects)); } if (data.templates) { templates = data.templates; localStorage.setItem('td-templates', JSON.stringify(templates)); } if (data.entries) { let count = 0; Object.entries(data.entries).forEach(([date, entry]) => { localStorage.setItem(`td-${date}`, JSON.stringify(entry.blocks)); if (entry.reflection) { localStorage.setItem(`td-ref-${date}`, entry.reflection); } count++; }); showToast(`âœ“ Imported ${count} days!`); } else { showToast('âŒ Invalid JSON'); } loadData(); } catch (error) { console.error(error); showToast('âŒ JSON parse error'); } } function importCSV(content) { try { const lines = content.split(' '); const dataByDate = {}; for (let i = 1; i < lines.length; i++) { const line = lines[i].trim(); if (!line) continue; const matches = line.match(/(\".*?\"|[^,]+)(?=\s*,|\s*$)/g); if (!matches || matches.length < 5) continue; const date = matches[0].replace(/\"/g, '').trim(); const time = matches[1].replace(/\"/g, '').trim(); const planned = matches[2].replace(/\"/g, '').trim(); const actual = matches[3].replace(/\"/g, '').trim(); const project = matches[4].replace(/\"/g, '').trim(); const energy = matches[5] ? parseInt(matches[5].replace(/\"/g, '').trim()) : 3; const distraction = matches[6] ? matches[6].replace(/\"/g, '').trim() : ''; if (!dataByDate[date]) { dataByDate[date] = {}; timeSlots.forEach(s => { dataByDate[date][s] = { p: '', a: '', pr: '', e: 3, d: '' }; }); } if (dataByDate[date][time]) { dataByDate[date][time] = { p: planned, a: actual, pr: project, e: energy, d: distraction }; if (project && !projects.includes(project)) { projects.push(project); } } } let count = 0; Object.entries(dataByDate).forEach(([date, blocks]) => { localStorage.setItem(`td-${date}`, JSON.stringify(blocks)); count++; }); localStorage.setItem('td-projects', JSON.stringify(projects)); showToast(`âœ“ Imported ${count} days from CSV!`); loadData(); } catch (error) { console.error(error); showToast('âŒ CSV parse error'); } } // Auto-save every 30 seconds setInterval(() => { if (Object.keys(timeBlocks).length > 0) { saveData(); } }, 30000); // Initialize document.getElementById('dateInput').value = selectedDate; loadData(); </script> </body></html>